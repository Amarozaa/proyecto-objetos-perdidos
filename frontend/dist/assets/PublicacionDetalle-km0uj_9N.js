import{u as m,a as x,r as c,p as j,b as f,j as e}from"./index-DApiPHFm.js";const v=()=>{const{id:t}=m(),r=x(),[i,l]=c.useState(null),[d,a]=c.useState(null);c.useEffect(()=>{t&&j.obtenerPorId(t).then(s=>{l(s),s.usuario_id?f.obtenerPorId(s.usuario_id).then(a).catch(()=>a(null)):a(null)}).catch(()=>{l(null),a(null)})},[t]);const h=s=>{const o=new Date(s),p=new Date().getTime()-o.getTime(),n=Math.floor(p/(1e3*60*60*24));return n===0?`Hoy a las ${o.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:n===1?`Ayer a las ${o.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:n<=7?`Hace ${n} días`:o.toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})},g=()=>i?i.tipo==="Perdido"?{accion:"Perdido en:"}:{accion:"Encontrado en:"}:{accion:"",icono:""};if(!i)return e.jsxs("div",{className:"detalle-container",children:[e.jsx("div",{children:"No se encontró la publicación."}),e.jsx("button",{className:"boton-cerrar",onClick:()=>r("/listado"),children:"Volver al listado"})]});const u=g();return e.jsxs("div",{className:"detalle-container",children:[e.jsxs("h2",{children:["Detalles de la publicación ",u.icono]}),e.jsxs("div",{className:"detalle-card",children:[e.jsxs("div",{className:"detalle-contenido",children:[e.jsxs("h3",{children:[i.titulo,e.jsx("span",{className:`categoria ${i.categoria==="Electrónicos"?"electronicos":i.categoria==="Ropa"?"ropa":i.categoria==="Documentos"?"documentos":i.categoria==="Accesorios"?"accesorios":i.categoria==="Deportes"?"deportes":i.categoria==="Útiles"?"utiles":"otros"}`,children:i.categoria}),e.jsx("span",{className:`estado ${i.estado==="Resuelto"?"resuelto":"pendiente"}`,children:i.estado})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Publicado por:"})," ",d?d.nombre:"Cargando usuario..."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fecha de publicación:"})," ",i.fecha_creacion?h(i.fecha_creacion):"No disponible"]}),e.jsxs("p",{children:[e.jsx("strong",{children:u.accion})," ",i.lugar]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tipo:"})," ",i.tipo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fecha del suceso:"})," ",new Date(i.fecha).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," ",i.descripcion]}),e.jsx("div",{style:{marginTop:"20px"},children:e.jsx("button",{className:"boton-cerrar",onClick:()=>r("/listado"),children:"Volver al listado"})})]}),e.jsx("div",{className:"detalle-imagen",children:i.imagen_url?e.jsx("img",{src:i.imagen_url,alt:i.titulo}):"Imagen"})]})]})};export{v as default};
